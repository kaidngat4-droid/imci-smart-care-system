<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ø³ØªÙ…Ø§Ø±Ø© ØªØ³Ø¬ÙŠÙ„ Ø·ÙÙ„ Ø£Ù‚Ù„ Ù…Ù† Ø´Ù‡Ø±ÙŠÙ† | IMCI</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
/* ===== Ø§Ù„ØªØ±ÙˆÙŠØ³Ø© ÙˆØ§Ù„ØµÙØ­Ø© ===== */
body {
    margin:0;
    font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background:#f5f5f5;
}
.official-header {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:20px 0;
    background: linear-gradient(135deg,#e0f0ff,#ffffff);
    box-shadow:0 4px 8px rgba(0,0,0,0.1);
}
.official-header img { width:80px; margin-bottom:15px; }
.official-header h1,h2,h3 { margin:5px 0; text-align:center; }
.program-logo { display:flex; justify-content:center; align-items:center; gap:10px; margin:15px 0; }
.program-logo img { width:60px; transition:0.3s; }
.program-logo span { font-weight:bold; font-size:20px; color:#0073e6; }
main.form-wrapper { max-width:900px; margin:0 auto; padding:20px; }

/* ===== Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ===== */
.card { background:#fff; padding:20px; border-radius:10px; margin-bottom:20px; box-shadow:0 4px 12px rgba(0,0,0,0.05); }
.card-title { font-weight:bold; font-size:18px; background:#e2f0ff; padding:8px 12px; border-radius:6px; margin-bottom:15px; display:flex; align-items:center; gap:8px; }

/* ===== Ø§Ù„Ø­Ù‚ÙˆÙ„ ===== */
.field { margin-bottom:12px; }
.field label { font-weight:bold; display:block; margin-bottom:5px; }
input[type="text"], input[type="number"], input[type="date"], textarea, select {
    width:100%; padding:8px; border-radius:5px; border:1px solid #ccc; box-sizing:border-box;
}

/* ===== checkboxes ===== */
.checkbox-group { display:flex; align-items:center; gap:10px; margin-bottom:6px; }
.checkbox-group input { width:auto; }

/* ===== ØªØµÙ†ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ ===== */
.classification-box {
    margin-top:10px; padding:12px; border-radius:10px;
    font-size:14px; font-weight:500;
    transition:0.5s;
    animation-name:none;
}
.classification-box i { margin-left:5px; }

.danger { background:#fee2e2; border:1px solid #dc2626; color:#991b1b; animation:blink 1s infinite; }
.moderate { background:#ffedd5; border:1px solid #f97316; color:#9a3412; }
.normal { background:#dcfce7; border:1px solid #16a34a; color:#065f46; }

@keyframes blink {
    0%,50%,100% { opacity:1; }
    25%,75% { opacity:0.5; }
}

/* ===== Ø£Ø²Ø±Ø§Ø± ===== */
.action-buttons { display:flex; gap:10px; margin-top:20px; }
.btn { flex:1; padding:12px; border:none; border-radius:6px; font-weight:bold; cursor:pointer; color:#fff; }
.save-btn { background:#16a34a; }
.save-btn:hover { background:#15803d; }
.back-btn { background:#065f46; }
.back-btn:hover { background:#064e3b; }
</style>
</head>
<body>

<!-- Ø§Ù„ØªØ±ÙˆÙŠØ³Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© -->
<header class="official-header">
<img src="assets/images/yemen-eagle.png" alt="Ø§Ù„Ø·ÙŠØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠ">
<h1>Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„ÙŠÙ…Ù†ÙŠØ©</h1>
<h2>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</h2>
<h3>Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© â€“ Ø¥Ø¯Ø§Ø±Ø© ØµØ­Ø© Ø§Ù„Ø·ÙÙ„</h3>
</header>

<!-- Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ -->
<div class="program-logo">
<img src="assets/images/moh-logo.png" alt="Ø´Ø¹Ø§Ø± Ø¨Ø±Ù†Ø§Ù…Ø¬ IMCI">
<span>Ø¨Ø±Ù†Ø§Ù…Ø¬ IMCI Ø§Ù„Ø±Ù‚Ù…ÙŠ</span>
</div>

<main class="form-wrapper">

<!-- ===== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ===== -->
<section class="card">
<div class="card-title"><i class="fa-solid fa-child"></i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</div>

<div class="field">
<label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
<input type="text" name="child_name">
</div>

<div class="field">
<label>Ø§Ù„Ø¹Ù…Ø± (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…)</label>
<input type="number" name="age_days">
</div>

<div class="field">
<label>Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
<input type="number" step="0.1" name="weight">
</div>

<div class="field">
<label>Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)</label>
<input type="number" name="height">
</div>

<div class="field">
<label>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°C)</label>
<input type="number" step="0.1" name="temperature">
</div>

<div class="field">
<label>Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
<select name="visit_type">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ø£ÙˆÙ„ÙŠØ©">Ø£ÙˆÙ„ÙŠØ©</option>
<option value="Ù…ØªØ§Ø¨Ø¹Ø©">Ù…ØªØ§Ø¨Ø¹Ø©</option>
</select>
</div>

<div class="field">
<label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
<input type="date" name="visit_date" value="">
</div>

</section>
<!-- ===== Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ±Ø© ===== -->
<section class="card">
<div class="card-title"><i class="fa-solid fa-triangle-exclamation"></i> Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ø­ØªÙ…Ø§Ù„ Ø§Ù„Ø¹Ø¯ÙˆÙ‰ Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠØ© Ø§Ù„Ø®Ø·ÙŠØ±Ø©</div>

<div class="checkbox-group"><input type="checkbox" class="infection"> ØºÙŠØ± Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¶Ø§Ø¹Ø© Ø£Ùˆ ÙŠØ±Ø¶Ø¹ Ø¨ØµØ¹ÙˆØ¨Ø© Ø´Ø¯ÙŠØ¯Ø©</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> ØªØ´Ù†Ø¬Ø§Øª</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø®Ø§Ù…Ù„ Ø¬Ø¯Ø§Ù‹ Ø£Ùˆ ÙØ§Ù‚Ø¯ Ø§Ù„ÙˆØ¹ÙŠ</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø­Ø±Ø§Ø±Ø© Ù…Ø±ØªÙØ¹Ø© â‰¥ 38Â°C</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø­Ø±Ø§Ø±Ø© Ù…Ù†Ø®ÙØ¶Ø© < 35.5Â°C</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> ØªÙ†ÙØ³ Ø³Ø±ÙŠØ¹ â‰¥ 60 Ù†ÙØ³/Ø¯Ù‚ÙŠÙ‚Ø©</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø³Ø­Ø¨ Ø´Ø¯ÙŠØ¯ Ù„Ø¬Ø¯Ø§Ø± Ø§Ù„ØµØ¯Ø±</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø²Ø±Ù‚Ø© Ù…Ø±ÙƒØ²ÙŠØ©</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> ØªÙˆÙ‚Ù Ø§Ù„ØªÙ†ÙØ³ / Ù†ÙˆØ¨Ø§Øª Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù†ÙØ³</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø±ÙØ±ÙØ© Ø§Ù„Ø£Ø±Ù†Ø¨</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø¨Ø«ÙˆØ± Ù…Ù†ØªØ´Ø±Ø©</div>
<div class="checkbox-group"><input type="checkbox" class="infection"> Ø§Ù„Ø£ÙÙƒÙ‡</div>

<div class="classification-box normal" id="infection-box"></div>
</section>
<!-- ===== Ø§Ù„ÙŠØ±Ù‚Ø§Ù† ===== -->
<section class="card">
  <div class="card-title">ğŸŸ¡ ÙØ­Øµ Ø§Ù„ÙŠØ±Ù‚Ø§Ù† (Ø§Ù„ØµÙØ±Ø§Ø¡)</div>

  <div class="checkbox-group">
    <input type="checkbox" class="jaundice">
    Ø¸Ù‡Ø± Ø®Ù„Ø§Ù„ Ø£ÙˆÙ„ 24 Ø³Ø§Ø¹Ø©
  </div>
  <div class="checkbox-group">
    <input type="checkbox" class="jaundice">
    ÙŠØµÙ„ Ø¥Ù„Ù‰ Ø±Ø§Ø­ØªÙŠ Ø§Ù„ÙŠØ¯ÙŠÙ† ÙˆØ§Ù„Ù‚Ø¯Ù…ÙŠÙ†
  </div>
  <div class="checkbox-group">
    <input type="checkbox" class="jaundice">
    Ø§ØµÙØ±Ø§Ø± Ø´Ø¯ÙŠØ¯ Ù…Ø¹ Ø¹Ù„Ø§Ù…Ø§Øª Ø¹Ø§Ù…Ø© (Ø®Ù…ÙˆÙ„ØŒ Ø¶Ø¹Ù Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©)
  </div>

  <div class="classification-box normal" id="jaundice-box"></div>
</section>
<!-- ===== ØªØµÙ†ÙŠÙ Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„ Ø­Ø³Ø¨ IMCI ===== -->
<section class="card">
  <div class="card-title">ğŸ’§ ØªØµÙ†ÙŠÙ Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„ Ø­Ø³Ø¨ IMCI</div>

  <div class="checkbox-group">
    <input type="checkbox" id="diarrhea_present">
    ğŸ’© ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„
  </div>

  <div class="field">
    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…:</label>
    <input type="number" id="diarrhea_days" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">
  </div>

  <hr>

  <div class="checkbox-group">
    <input type="checkbox" id="lethargic">
    ğŸ˜´ Ø®Ø§Ù…Ù„ Ø£Ùˆ ÙØ§Ù‚Ø¯ Ø§Ù„ÙˆØ¹ÙŠ
  </div>

  <div class="checkbox-group">
    <input type="checkbox" id="sunken_eyes">
    ğŸ‘€ Ø¹ÙŠÙˆÙ† ØºØ§Ø¦Ø±Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" id="drinks_poorly">
    ğŸ’§ Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„Ø´Ø±Ø¨ Ø£Ùˆ ÙŠØ´Ø±Ø¨ Ø¨ØµØ¹ÙˆØ¨Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" id="skin_slow">
    âœ‹ Ø«Ù†ÙŠØ© Ø§Ù„Ø¬Ù„Ø¯ ØªØ±Ø¬Ø¹ Ø¨Ø¨Ø·Ø¡ Ø´Ø¯ÙŠØ¯
  </div>

  <div class="checkbox-group">
    <input type="checkbox" id="blood_stool">
    ğŸ©¸ Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²
  </div>

  <div class="classification-box normal" id="diarrhea-box"></div>
</section>

  <!-- Ø®Ø§Ù†Ø© Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ -->
  <div class="classification-box normal" id="diarrhea-box"></div>
</section>
<!-- ===== ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØºØ°ÙŠØ© ===== -->
<section class="card">
  <div class="card-title">ğŸ¥› ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØºØ°ÙŠØ© ÙˆØ§Ù„Ø±Ø¶Ø§Ø¹Ø© Ø­Ø³Ø¨ IMCI</div>

  <div class="checkbox-group">
    <input type="checkbox" class="feeding" id="unable_feed">
    âŒ ØºÙŠØ± Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¶Ø§Ø¹Ø© Ø¥Ø·Ù„Ø§Ù‚Ù‹Ø§
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="feeding" id="lethargic_feed">
    ğŸ˜´ Ø®Ø§Ù…Ù„ Ø¬Ø¯Ø§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="feeding" id="mouth_ulcer">
    ğŸ‘… ØªÙ‚Ø±Ø­Ø§Øª Ø£Ùˆ Ù‚Ù„Ø§Ø¹ Ø¨Ø§Ù„ÙÙ…
  </div>

  <div class="field">
    <label>ğŸ¥› Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø¶Ø¹Ø§Øª Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©:</label>
    <input type="number" class="feeding" id="feeding_times" placeholder="Ù…Ø«Ø§Ù„: 8">
  </div>

  <div class="field">
    <label>âš–ï¸ Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…):</label>
    <input type="number" step="0.1" class="feeding" id="weight_check">
  </div>

  <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªØµÙ†ÙŠÙ -->
  <div class="classification-box normal" id="feeding-box"></div>
</section>
<!-- ===== Ø§Ù„ØªÙ‡Ø§Ø¨ Ø¨ÙƒØªÙŠØ±ÙŠ Ù…ÙˆØ¶Ø¹ÙŠ ===== -->
<section class="card">
  <div class="card-title">ğŸ©¹ ØªØµÙ†ÙŠÙ Ø§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠ Ø§Ù„Ù…ÙˆØ¶Ø¹ÙŠ (IMCI)</div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="umbilical_redness">
    ğŸ”´ Ø§Ø­Ù…Ø±Ø§Ø± Ø£Ùˆ ØªÙˆØ±Ù… Ø­ÙˆÙ„ Ø§Ù„Ø³Ø±Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="umbilical_pus">
    ğŸ’§ Ø¥ÙØ±Ø§Ø²Ø§Øª Ù‚ÙŠØ­ÙŠØ© Ù…Ù† Ø§Ù„Ø³Ø±Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="eye_discharge">
    ğŸ‘ï¸ Ø¥ÙØ±Ø§Ø²Ø§Øª Ù‚ÙŠØ­ÙŠØ© Ù…Ù† Ø§Ù„Ø¹ÙŠÙ†
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="skin_pustules">
    ğŸŸ¡ Ø¨Ø«ÙˆØ± Ø¬Ù„Ø¯ÙŠØ© Ù‚Ù„ÙŠÙ„Ø©
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="skin_abscess">
    ğŸ”´ Ø®Ø±Ø§Ø¬ Ø¬Ù„Ø¯ÙŠ
  </div>

  <div class="checkbox-group">
    <input type="checkbox" class="local-infection" id="ear_discharge">
    ğŸ‘‚ Ø¥ÙØ±Ø§Ø²Ø§Øª Ù…Ù† Ø§Ù„Ø£Ø°Ù†
  </div>

  <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªØµÙ†ÙŠÙ -->
  <div class="classification-box normal" id="local-infection-box"></div>
</section>
<!-- ===== ØªØµÙ†ÙŠÙ Ø§Ù„ÙˆØ²Ù† Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ø± ===== -->
<section class="card">
  <div class="card-title">âš–ï¸ ØªØµÙ†ÙŠÙ Ø§Ù„ÙˆØ²Ù† Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ø± (IMCI)</div>

  <div class="field">
    <label>ğŸ“… Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ø£ÙŠØ§Ù…:</label>
    <input type="number" id="age_days" placeholder="Ù…Ø«Ø§Ù„: 25">
  </div>

  <div class="field">
    <label>âš–ï¸ Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…):</label>
    <input type="number" step="0.1" id="weight_value" placeholder="Ù…Ø«Ø§Ù„: 3.2">
  </div>

  <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªØµÙ†ÙŠÙ -->
  <div class="classification-box normal" id="weight-box"></div>
</section>

<!-- ===== Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© ===== -->
<div class="action-buttons">
<button class="btn save-btn" onclick="saveNewborn()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
<button class="btn back-btn" onclick="goBack()">â†©ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
</div>

</main>

<script>
// ===== Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ØªØµÙ†ÙŠÙ =====
function setBox(box,type,text){
    box.classList.remove("danger","moderate","normal");
    box.classList.add(type);
    box.innerHTML=text;
}

function checkGroup(cls,boxId){
    const elements=document.querySelectorAll("."+cls);
    const box=document.getElementById(boxId);
    let issue=false;
    elements.forEach(el=>{
        if(el.type==="checkbox" && el.checked) issue=true;
    });
    if(issue){
        setBox(box,"danger","ğŸš¨ Ø§Ø­ØªÙ…Ø§Ù„ Ø¹Ø¯ÙˆÙ‰ Ø¨ÙƒØªÙŠØ±ÙŠØ© Ø®Ø·ÙŠØ±Ø© | Ø¥Ø­Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø© + Ø¥Ø¹Ø·Ø§Ø¡ Ù…Ø¶Ø§Ø¯ Ø­ÙŠÙˆÙŠ");
    } else{
        setBox(box,"normal","âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù„Ø§Ù…Ø§Øª Ø¹Ø¯ÙˆÙ‰ Ø®Ø·ÙŠØ±Ø©");
    }
}
// ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
["infection","jaundice"].forEach(cls=>{
    document.querySelectorAll("."+cls).forEach(el=>{
        el.addEventListener("change",()=>checkGroup(cls,cls+"-box"));
    });
});

// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© checkGroup Ù„Ø¯Ø¹Ù… Ø§Ù„ÙŠØ±Ù‚Ø§Ù†
function checkGroup(cls,boxId){
    const elements=document.querySelectorAll("."+cls);
    const box=document.getElementById(boxId);
    let issue=false;
    elements.forEach(el=>{
        if(el.type==="checkbox" && el.checked) issue=true;
    });

    if(cls==="infection"){
        if(issue){
            setBox(box,"danger","ğŸš¨ Ø­Ø§Ù„Ø© Ø®Ø·ÙŠØ±Ø© | Ø¥Ø­Ø§Ù„Ø© ÙÙˆØ±ÙŠØ© + Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø­Ø³Ø¨ Ø§Ù„Ø¯Ù„ÙŠÙ„");
        }else{
            setBox(box,"normal","âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù„Ø§Ù…Ø§Øª Ø®Ø·ÙˆØ±Ø©");
        }
    }

    if(cls==="jaundice"){
        if(issue){
            setBox(box,"danger","âš ï¸ ÙŠØ±Ù‚Ø§Ù† Ø®Ø·ÙŠØ± | Ø¥Ø­Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø© Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰ + Ù…ØªØ§Ø¨Ø¹Ø© ÙÙˆØ±ÙŠØ©");
        }else{
            setBox(box,"normal","âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙŠØ±Ù‚Ø§Ù† Ø®Ø·ÙŠØ±");
        }
    }
}
function checkDiarrhea(){

const box = document.getElementById("diarrhea-box");

const hasDiarrhea = document.getElementById("diarrhea_present").checked;
const days = parseInt(document.getElementById("diarrhea_days").value || 0);

const lethargic = document.getElementById("lethargic").checked;
const sunken = document.getElementById("sunken_eyes").checked;
const drinkPoor = document.getElementById("drinks_poorly").checked;
const skinSlow = document.getElementById("skin_slow").checked;
const blood = document.getElementById("blood_stool").checked;

let severeSigns = 0;
let someSigns = 0;

if(lethargic) severeSigns++;
if(drinkPoor) severeSigns++;
if(sunken) someSigns++;
if(skinSlow) someSigns++;

// ğŸ”´ Ø¬ÙØ§Ù Ø´Ø¯ÙŠØ¯
if(hasDiarrhea && severeSigns >=2){
    setBox(box,"danger",
    "ğŸš¨ Ø¥Ø³Ù‡Ø§Ù„ Ù…Ø¹ Ø¬ÙØ§Ù Ø´Ø¯ÙŠØ¯\n\n" +
    "ğŸ”¹ Ø¥Ø­Ø§Ù„Ø© ÙÙˆØ±ÙŠØ©\n" +
    "ğŸ”¹ Ø¨Ø¯Ø¡ Ø³ÙˆØ§Ø¦Ù„ ÙˆØ±ÙŠØ¯ÙŠØ© (Plan C)\n" +
    "ğŸ”¹ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¯Ù‚ÙŠÙ‚Ø©");
    return;
}

// ğŸŸ  Ø¨Ø¹Ø¶ Ø§Ù„Ø¬ÙØ§Ù
if(hasDiarrhea && (someSigns >=2)){
    setBox(box,"moderate",
    "ğŸŸ  Ø¥Ø³Ù‡Ø§Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ø¬ÙØ§Ù\n\n" +
    "ğŸ”¹ Ø¥Ø¹Ø·Ø§Ø¡ ORS (Ø§Ù„Ø®Ø·Ø© B)\n" +
    "ğŸ”¹ Ù…Ø±Ø§Ù‚Ø¨Ø© 4 Ø³Ø§Ø¹Ø§Øª\n" +
    "ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø¹Ø¯ ÙŠÙˆÙ…ÙŠÙ†");
    return;
}

// ğŸŸ£ Ø¯Ù… Ø¨Ø§Ù„Ø¨Ø±Ø§Ø²
if(hasDiarrhea && blood){
    setBox(box,"moderate",
    "ğŸ©¸ Ø²Ø­Ø§Ø± (Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²)\n\n" +
    "ğŸ”¹ Ù…Ø¶Ø§Ø¯ Ø­ÙŠÙˆÙŠ Ù…Ù†Ø§Ø³Ø¨\n" +
    "ğŸ”¹ ORS\n" +
    "ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ù‚Ø±ÙŠØ¨Ø©");
    return;
}

// ğŸ”µ Ø¥Ø³Ù‡Ø§Ù„ Ù…Ø³ØªÙ…Ø±
if(hasDiarrhea && days >=14){
    setBox(box,"moderate",
    "ğŸ”µ Ø¥Ø³Ù‡Ø§Ù„ Ù…Ø³ØªÙ…Ø± Ø´Ø¯ÙŠØ¯\n\n" +
    "ğŸ”¹ ØªÙ‚ÙŠÙŠÙ… Ø³ÙˆØ¡ Ø§Ù„ØªØºØ°ÙŠØ©\n" +
    "ğŸ”¹ Ø®Ø·Ø© ØªØºØ°ÙŠØ© Ø®Ø§ØµØ©\n" +
    "ğŸ”¹ Ø¥Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±");
    return;
}

// ğŸŸ¢ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¬ÙØ§Ù
if(hasDiarrhea){
    setBox(box,"normal",
    "ğŸŸ¢ Ø¥Ø³Ù‡Ø§Ù„ Ø¨Ø¯ÙˆÙ† Ø¬ÙØ§Ù\n\n" +
    "ğŸ”¹ ORS ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„\n" +
    "ğŸ”¹ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©\n" +
    "ğŸ”¹ Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø²Ù†Ùƒ\n" +
    "ğŸ”¹ Ø¥Ø±Ø´Ø§Ø¯ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø·Ø±");
    return;
}

// Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø³Ù‡Ø§Ù„
setBox(box,"normal","âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø³Ù‡Ø§Ù„");

}

// Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
document.querySelectorAll("#diarrhea_present, #diarrhea_days, #lethargic, #sunken_eyes, #drinks_poorly, #skin_slow, #blood_stool")
.forEach(el=>{
el.addEventListener("change",checkDiarrhea);
});
function checkFeeding(){

const box=document.getElementById("feeding-box");

const unable=document.getElementById("unable_feed").checked;
const lethargic=document.getElementById("lethargic_feed").checked;
const ulcer=document.getElementById("mouth_ulcer").checked;
const times=parseInt(document.getElementById("feeding_times").value || 0);
const weight=parseFloat(document.getElementById("weight_check").value || 0);

// ğŸ”´ Ù…Ø´ÙƒÙ„Ø© Ø´Ø¯ÙŠØ¯Ø©
if(unable || lethargic){
    setBox(box,"danger",
    "ğŸš¨ Ù…Ø´ÙƒÙ„Ø© ØªØºØ°ÙŠØ© Ø´Ø¯ÙŠØ¯Ø©\n\n" +
    "ğŸ”¹ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡: Ø¥Ø­Ø§Ù„Ø© ÙÙˆØ±ÙŠØ© Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰\n" +
    "ğŸ”¹ Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø·ÙÙ„ Ø¯Ø§ÙØ¦Ù‹Ø§\n" +
    "ğŸ”¹ Ù…Ù†Ø¹ Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ø³ÙƒØ±\n" +
    "ğŸ”¹ Ø¨Ø¯Ø¡ Ø¹Ù„Ø§Ø¬ Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„");
    return;
}

// ğŸŸ  Ù…Ø´ÙƒÙ„Ø© ØªØºØ°ÙŠØ©
if(times > 0 && times < 8 || ulcer){
    setBox(box,"moderate",
    "ğŸŸ  Ù…Ø´ÙƒÙ„Ø© ØªØºØ°ÙŠØ©\n\n" +
    "ğŸ”¹ ØªØµØ­ÙŠØ­ ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©\n" +
    "ğŸ”¹ Ø¯Ø¹Ù… Ø§Ù„Ø£Ù… ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§Ù„ØªØµØ§Ù‚ Ø§Ù„Ø¬ÙŠØ¯\n" +
    "ğŸ”¹ Ø¹Ù„Ø§Ø¬ ØªÙ‚Ø±Ø­Ø§Øª Ø§Ù„ÙÙ… Ø¥Ù† ÙˆØ¬Ø¯Øª\n" +
    "ğŸ”¹ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø®Ù„Ø§Ù„ ÙŠÙˆÙ…ÙŠÙ†");
    return;
}

// ğŸŸ¢ Ø·Ø¨ÙŠØ¹ÙŠ
setBox(box,"normal",
"âœ… Ø±Ø¶Ø§Ø¹Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©\n\n" +
"ğŸ”¹ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ø§Ù„Ø±Ø¶Ø§Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© Ø§Ù„Ø­ØµØ±ÙŠØ©\n" +
"ğŸ”¹ â‰¥ 8 Ø±Ø¶Ø¹Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹\n" +
"ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø±ÙˆØªÙŠÙ†ÙŠØ©");

}

// Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
document.querySelectorAll(".feeding").forEach(el=>{
    el.addEventListener("change",checkFeeding);
});

// Ø±Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„ Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
document.querySelectorAll(".diarrhea").forEach(el=>{
  el.addEventListener("change",()=>checkDiarrhea());
});

// ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.onload=function(){
  checkDiarrhea();
};
function checkLocalInfection(){

const box = document.getElementById("local-infection-box");

const signs = document.querySelectorAll(".local-infection");
let found = false;

signs.forEach(el=>{
    if(el.checked) found = true;
});

if(found){
    setBox(box,"moderate",
    "ğŸŸ  Ø§Ù„ØªÙ‡Ø§Ø¨ Ø¨ÙƒØªÙŠØ±ÙŠ Ù…ÙˆØ¶Ø¹ÙŠ\n\n" +
    "ğŸ”¹ Ø¥Ø¹Ø·Ø§Ø¡ Ù…Ø¶Ø§Ø¯ Ø­ÙŠÙˆÙŠ ÙÙ…ÙˆÙŠ Ù…Ù†Ø§Ø³Ø¨\n" +
    "ğŸ”¹ ØªÙ†Ø¸ÙŠÙ Ù…ÙˆØ¶Ø¹ÙŠ Ø¨Ù…Ø·Ù‡Ø±\n" +
    "ğŸ”¹ Ù…Ø±Ù‡Ù… Ø¹ÙŠÙ†ÙŠ Ø¥Ù† ÙˆØ¬Ø¯ Ø§Ù„ØªÙ‡Ø§Ø¨ Ø¹ÙŠÙ†\n" +
    "ğŸ”¹ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø®Ù„Ø§Ù„ ÙŠÙˆÙ…ÙŠÙ†\n" +
    "ğŸ”¹ ØªØ«Ù‚ÙŠÙ Ø§Ù„Ø£Ù… Ø­ÙˆÙ„ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø·Ø±");
}
else{
    setBox(box,"normal",
    "âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù„ØªÙ‡Ø§Ø¨ Ø¨ÙƒØªÙŠØ±ÙŠ Ù…ÙˆØ¶Ø¹ÙŠ\n\n" +
    "ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø±ÙˆØªÙŠÙ†ÙŠØ©");
}

}

// Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
document.querySelectorAll(".local-infection")
.forEach(el=>{
el.addEventListener("change",checkLocalInfection);
});

// ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
window.addEventListener("load",checkLocalInfection);

function checkWeight(){

const age = parseInt(document.getElementById("age_days").value || 0);
const weight = parseFloat(document.getElementById("weight_value").value || 0);
const box = document.getElementById("weight-box");

if(age === 0 || weight === 0){
    setBox(box,"normal","âšª Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù…Ø± ÙˆØ§Ù„ÙˆØ²Ù†");
    return;
}

let veryLow = false;
let low = false;

// Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
if(age <= 7){
    if(weight < 2.0) veryLow = true;
    else if(weight < 2.5) low = true;
}

// Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©
else if(age <= 28){
    if(weight < 2.3) veryLow = true;
    else if(weight < 3.0) low = true;
}

// Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©
else{
    if(weight < 3.0) veryLow = true;
    else if(weight < 3.8) low = true;
}

// ğŸ”´ ÙˆØ²Ù† Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ù‹Ø§
if(veryLow){
    setBox(box,"danger",
    "ğŸš¨ ÙˆØ²Ù† Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ù‹Ø§ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ø±\n\n" +
    "ğŸ”¹ Ø¥Ø­Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø© Ù„Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ØªØ®ØµØµ\n" +
    "ğŸ”¹ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØºØ°ÙŠØ© ÙÙˆØ±Ù‹Ø§\n" +
    "ğŸ”¹ Ù…Ù†Ø¹ Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ø³ÙƒØ±\n" +
    "ğŸ”¹ Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø·ÙÙ„ Ø¯Ø§ÙØ¦Ù‹Ø§");
    return;
}

// ğŸŸ  ÙˆØ²Ù† Ù…Ù†Ø®ÙØ¶
if(low){
    setBox(box,"moderate",
    "ğŸŸ  ÙˆØ²Ù† Ù…Ù†Ø®ÙØ¶ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ø±\n\n" +
    "ğŸ”¹ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©\n" +
    "ğŸ”¹ Ø¯Ø¹Ù… Ø§Ù„Ø£Ù…\n" +
    "ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø®Ù„Ø§Ù„ ÙŠÙˆÙ…ÙŠÙ†\n" +
    "ğŸ”¹ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆØ²Ù†");
    return;
}

// ğŸŸ¢ Ø·Ø¨ÙŠØ¹ÙŠ
setBox(box,"normal",
"âœ… ÙˆØ²Ù† Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù…Ø±\n\n" +
"ğŸ”¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø±ÙˆØªÙŠÙ†ÙŠØ©\n" +
"ğŸ”¹ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ø§Ù„Ø±Ø¶Ø§Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©");

}

// Ø±Ø¨Ø· Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
document.getElementById("age_days").addEventListener("input",checkWeight);
document.getElementById("weight_value").addEventListener("input",checkWeight);

// ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
window.addEventListener("load",checkWeight);

// Ø±Ø¨Ø· ÙƒÙ„ Ø®Ø§Ù†Ø© checkbox
document.querySelectorAll(".infection").forEach(el=>{
    el.addEventListener("change",()=>checkGroup("infection","infection-box"));
});
// ===== Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© =====
function saveNewborn(){
    const name = document.querySelector('input[name="child_name"]').value.trim();
    const age_days = document.querySelector('input[name="age_days"]').value.trim();
    const weight = document.querySelector('input[name="weight"]').value.trim();
    const height = document.querySelector('input[name="height"]').value.trim();
    const temperature = document.querySelector('input[name="temperature"]').value.trim();
    const visit_type = document.querySelector('select[name="visit_type"]').value.trim();

    if(!name || !age_days || !weight || !height || !temperature || !visit_type){
        alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø·ÙÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸!");
        return;
    }

    const facility = localStorage.getItem("imci_facility") || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
    let children = JSON.parse(localStorage.getItem("imci_children")) || [];

    const childData = {
        type:"newborn",
        facility:facility,
        date:new Date().toISOString(),
        name:name,
        age_days:age_days,
        weight:weight,
        height:height,
        temperature:temperature,
        visit_type:visit_type,
        infection:document.getElementById("infection-box").innerText
    };
    children.push(childData);
    localStorage.setItem("imci_children",JSON.stringify(children));

    // ØªØ±Ø­ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ
    let report = JSON.parse(localStorage.getItem("imci_monthly")) || {severe:0, normal:0};
    if(childData.infection.includes("Ø®Ø·ÙŠØ±Ø©")) report.severe++;
    else report.normal++;
    localStorage.setItem("imci_monthly",JSON.stringify(report));

    alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ±Ø­ÙŠÙ„Ù‡Ø§ Ù„Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ");
    window.location.href="monthly-report.html";
}

// Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
function goBack(){ window.location.href="dashboard.html"; }

// ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
window.onload=function(){
    checkGroup("infection","infection-box");
};
</script>
</body>
</html>
